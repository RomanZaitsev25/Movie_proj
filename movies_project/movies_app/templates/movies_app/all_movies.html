{% extends 'movies_app/base.html' %}


{% block title %} Все фильмы {% endblock %}


{% block content %}
    <h2>Список всех фильмов</h2>
    <ul>
        {% for movie in movies %}
<!--в ссылке мы должны передать url, назовём его movie_detail,передать id, -->
<!--наш роут должен обрабатывать число. ID- хранить в переменной movie.-->
<!--        всё это мы можем вынести в модель-->
<!--        <li><a href="{% url 'movie_detail' movie.id%}">{{movie.name}}</a>, рейтинг - {{movie.rating}}, год - -->
<!--            {{movie.year|default:'Неизвестен'}}-->
        <li><a href="{{movie.get_url}}">{{movie.name}}</a>,
            рейтинг - {{movie.rating}},
            бюджет - {{movie.budget}},
            год - {{movie.year|default:'Неизвестен'}},

        </li>
        {% endfor %}

    </ul>
    <h3> Cредний бюджет фильмов - {{agg.budget__avg}} $</h3>
    <h3> Максимальный рейтинг фильмов - {{agg.rating__max}} </h3>
    <h3> Минимальный рейтинг фильмов - {{agg.rating__min}}</h3>
    <h3> Всего фильмов - {{total}}</h3>

{% endblock %}



